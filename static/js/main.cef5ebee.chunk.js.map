{"version":3,"sources":["config/index.js","services/backend/postAdminLogin.js","components/LoginForm/LoginForm.js","pages/Login/Login.js","services/utils/getAdminHeaders.js","services/backend/getData.js","services/utils/logout_if_response_401.js","services/backend/fetchStatistics.js","services/utils/getDateString.js","pages/Stats/Stats.js","services/utils/formatPrice.js","services/hooks/useAuthToken.js","services/hooks/useLocalStorage.js","pages/Home/Home.js","components/Navbar/Navbar.js","components/TableWrapper/TableWrapper.js","services/backend/fetchCities.js","services/backend/putData.js","services/backend/putCity.js","pages/Cities/Cities.js","services/hooks/useCities.js","services/backend/deleteData.js","services/backend/deleteMeal.js","services/backend/fetchCityMeals.js","services/backend/sendTestMail.js","components/MealsListView/MealsListView.js","pages/CityMeals/CityMeals.js","services/hooks/useCityMeals.js","services/backend/fetchUsers.js","services/hooks/useUsers.js","pages/Users/Users.js","services/utils/objectToQuery.js","services/backend/getCanteens.js","services/hooks/useCanteens.js","services/backend/getCanteenCrawlMeals.js","pages/Canteens/Canteens.js","services/backend/getCanteenMeals.js","pages/CanteenMeals/CanteenMeals.js","services/hooks/useCanteenMeals.js","components/MealForm/MealForm.js","services/backend/postData.js","services/backend/postMeal.js","pages/Meal/Create/CreateMeal.js","services/backend/getUserCategories.js","components/MealPriceForm/MealPriceForm.js","services/hooks/useUserCategories.js","services/backend/fetchMeal.js","services/backend/putMeal.js","services/backend/fetchMealHasMealTypes.js","services/backend/postMealHasMealType.js","services/backend/deleteMealHasMealType.js","services/backend/fetchMealPrices.js","services/backend/postPrice.js","services/backend/deletePrice.js","services/backend/getMealTypes.js","pages/Meal/Patch/PatchMeal.js","services/hooks/useMeal.js","services/hooks/useMealPrices.js","services/hooks/useMealHasMealTypes.js","services/hooks/useMealTypes.js","pages/MealRecommendations/MealRecommendations.js","services/hooks/useMealRecommendations.js","services/backend/getMealRecommendations.js","index.js"],"names":["config","BACKEND_URL","url","postAdminLogin","data","a","Axios","post","response","window","localStorage","setItem","JSON","stringify","token","console","log","LoginForm","useState","password","loginData","setLoginData","login","location","reload","Segment","Form","Header","Input","label","type","value","name","onChange","target","Button","onClick","Login","getAdminHeaders","authorization","parse","getItem","getData","headers","get","interceptors","use","error","status","removeItem","href","fetchStatistics","getDateString","date","Date","dateString","getFullYear","getMonth","getDate","Stats","setData","useEffect","stats","fetchData","xLabels","emailsOpenedDaily","map","eod","className","activeUsers","emailsSend","emailsOpened","lunchletterSend","lunchletterOpened","emailsSendToday","emailsOpenedToday","toFixed","avgUserLifetime","replace","options","chart","id","stroke","curve","xaxis","categories","series","count","emailsSendDaily","reduce","all","includes","concat","width","height","userSignupsPerMonth","us","year","month","userDeletionsPerMonth","find","ud","cohortAnalysis","cohort","total","Math","floor","useAuthToken","key","initialValue","item","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","Home","Navbar","children","authToken","navbarPushedMobile","setNavbarPushedMobile","Icon","size","as","to","TableWrapper","columnNames","content","Table","celled","Row","cn","HeaderCell","Body","row","cell","Cell","fetchCities","cities","putData","put","putCity","city","Cities","setCities","useCities","updateCity","updateReady","setUpdateReady","Checkbox","checked","is_semester_break","toggle","Link","icon","primary","Modal","open","onClose","basic","Content","style","textAlign","Actions","color","inverted","deleteData","delete","deleteMeal","mealId","cityId","meals","sendTestMail","MealsListView","mealToBeDeletedId","setMealToBeDeletedId","positive","canteen","meal","prices","price","types","alt","src","icon_url","CityDetail","cityMeals","setCityMeals","fetchCityMeals","useCityMeals","useParams","fetchUsers","users","useUsers","setUsers","Users","reverse","user","email","confirmed","created_at","toLocaleDateString","weekday","day","deleted_at","objectToQuery","obj","query","Object","keys","join","getCanteens","filter","useCanteens","canteens","setCanteens","fetch","getCanteenCrawlMeals","canteenId","Canteens","isCrawlingMeals","setIsCrawlingMeals","address","loading","getCanteenMeals","CanteenMeals","canteenMeals","setCanteenMeals","useCanteenMeals","MealForm","setMeal","localMeal","setLocalMeal","handleMealUpdate","handleFormChange","Dropdown","placeholder","fluid","search","selection","canteen_id","_","onBlur","text","postData","postMeal","CreateMeal","history","useHistory","createMeal","_meal","push","getUserCategories","userCategories","MealPriceForm","mealPrice","setMealPrice","localMealPrice","setLocalMealPrice","setUserCategories","useUserCategories","user_category_id","user_category","fetchMeal","putMeal","fetchMealHasMealTypes","mealHasMealTypes","postMealHasMealType","mealMealHasMealType","deleteMealHasMealType","mealHasMealTypeId","fetchMealPrices","mealPrices","postPrice","userCategoryMealPrice","deletePrice","priceId","PatchMeal","mealPriceTemplate","meal_id","useMeal","setMealPrices","_mealPrices","useMealPrices","createPrice","setMealHasMealTypes","_mealHasMealTypes","useMealHasMealTypes","createMealHasMealType","newMealTypeId","setNewMealTypeId","mealTypes","setMealTypes","getMealTypes","useMealTypes","newMealPrice","setNewMealPrice","negative","mealType","meal_type_id","MealRecommendations","mealRecommendations","setMealRecommendations","mr","updatedRecommendation","useMealRecommendations","updateMealRecommendation","recommendation","message","city_name","active","ReactDOM","render","StrictMode","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.cef5ebee.chunk.js","sourcesContent":["const local = {\n  BACKEND_URL: \"http://localhost:8000\",\n};\n\nconst production = {\n  BACKEND_URL: \"https://api.studierendenfutter.de\",\n};\n\nlet config = local;\n\nif (process.env.NODE_ENV === \"production\") {\n  config = production;\n}\n\nexport default config;\n","import Axios from \"axios\";\n\nimport config from \"../../config\";\n\nconst url = config.BACKEND_URL + \"/auth/login\";\n\nexport default async function postAdminLogin(data) {\n  try {\n    const response = await Axios.post(url, data);\n    window.localStorage.setItem(\n      \"authToken\",\n      JSON.stringify({ token: response.data.token })\n    );\n  } catch (err) {\n    console.log(err);\n    return {};\n  }\n}\n","import React, { useState } from \"react\";\nimport { Form, Header, Button, Segment } from \"semantic-ui-react\";\nimport postAdminLogin from \"../../services/backend/postAdminLogin\";\n\nexport default function LoginForm() {\n  const [loginData, setLoginData] = useState({ password: \"\" });\n\n  const changeForm = ({ target: { value, name } }) => {\n    setLoginData({ ...loginData, [name]: value });\n  };\n\n  const login = async () => {\n    await postAdminLogin(loginData);\n    window.location.reload();\n  };\n\n  return (\n    <div>\n      <Segment>\n        <Form>\n          <Header>Login</Header>\n          <Form.Input\n            label=\"Password\"\n            type=\"password\"\n            value={loginData.password}\n            name=\"password\"\n            onChange={changeForm}\n          />\n          <Button type=\"button\" onClick={login}>\n            Login\n          </Button>\n        </Form>\n      </Segment>\n    </div>\n  );\n}\n","import React from \"react\";\nimport LoginForm from \"../../components/LoginForm/LoginForm\";\n\nexport default function Login() {\n  return (\n    <div>\n      <LoginForm />\n    </div>\n  );\n}\n","export default function getAdminHeaders() {\n  const token = JSON.parse(window.localStorage.getItem(\"authToken\"));\n\n  return { authorization: \"Bearer \" + token.token };\n}\n","import Axios from \"axios\";\nimport getAdminHeaders from \"../utils/getAdminHeaders\";\nimport logout from \"../utils/logout_if_response_401\";\n\nAxios.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response.status === 401) {\n      logout();\n    }\n    return error;\n  }\n);\n\nexport default async function getData(url) {\n  const headers = getAdminHeaders();\n  try {\n    const response = await Axios.get(url, { headers });\n    return response.data;\n  } catch (err) {\n    console.log(err);\n  }\n}\n","export default function logout() {\n  window.localStorage.removeItem(\"authToken\");\n  window.location.href = \"/\";\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nconst url = config.BACKEND_URL + \"/stats\";\n\nexport default async function fetchStatistics() {\n  try {\n    const response = await getData(url);\n    return response;\n  } catch (e) {\n    return null;\n  }\n}\n","export default function getDateString(date = new Date()) {\n  const dateString =\n    date.getFullYear() +\n    \"-\" +\n    (date.getMonth() + 1 < 10 ? \"0\" : \"\") +\n    (date.getMonth() + 1) +\n    \"-\" +\n    (date.getDate() < 10 ? \"0\" : \"\") +\n    date.getDate();\n  return dateString;\n}\n","import React, { useState, useEffect } from \"react\";\nimport fetchStatistics from \"../../services/backend/fetchStatistics\";\nimport Chart from \"react-apexcharts\";\nimport getDateString from \"../../services/utils/getDateString\";\nimport formatPrice from \"../../services/utils/formatPrice\";\nimport \"./Stats.css\";\n\nexport default function Stats() {\n  const [data, setData] = useState();\n\n  useEffect(() => {\n    async function fetchData() {\n      const stats = await fetchStatistics();\n      setData(stats);\n    }\n    fetchData();\n  }, []);\n\n  if (!data) {\n    return null;\n  }\n\n  const xLabels = data\n    ? data.emailsOpenedDaily.map((eod) => getDateString(new Date(eod.date)))\n    : [];\n\n  return (\n    <div>\n      <h1 className=\"sf-stats-title\">Admin Panel</h1>\n      <div className=\"sf-stats-big-numbers\">\n        <div className=\"sf-stats-big-number\">\n          <span className=\"sf-stats-big-number-number\">{data.activeUsers}</span>\n          <span>active users</span>\n        </div>\n        <div className=\"sf-stats-big-number\">\n          <span className=\"sf-stats-big-number-number\">{data.emailsSend}</span>\n          <span>emails send</span>\n        </div>\n        <div className=\"sf-stats-big-number\">\n          <span className=\"sf-stats-big-number-number\">\n            {data.emailsOpened}\n          </span>\n          <span>emails opened</span>\n        </div>\n        <div className=\"sf-stats-big-number\">\n          <span className=\"sf-stats-big-number-number\">\n            {data.lunchletterSend}\n          </span>\n          <span>lunchletter send</span>\n        </div>\n        <div className=\"sf-stats-big-number\">\n          <span className=\"sf-stats-big-number-number\">\n            {data.lunchletterOpened}\n          </span>\n          <span>lunchletter opened</span>\n        </div>\n        <div className=\"sf-stats-big-number\">\n          <span className=\"sf-stats-big-number-number\">\n            {data.emailsSendToday}\n          </span>\n          <span>send today</span>\n        </div>\n        <div className=\"sf-stats-big-number\">\n          <span className=\"sf-stats-big-number-number\">\n            {data.emailsOpenedToday}\n          </span>\n          <span>opened today</span>\n        </div>\n        <div className=\"sf-stats-big-number\">\n          <span className=\"sf-stats-big-number-number\">\n            {((data.emailsOpenedToday / data.emailsSendToday) * 100).toFixed(2)}\n          </span>\n          <span>% opened today</span>\n        </div>\n        <div className=\"sf-stats-big-number\">\n          <span className=\"sf-stats-big-number-number\">\n            {formatPrice(data.avgUserLifetime)}\n          </span>\n          <span>avg user lifetime</span>\n        </div>\n      </div>\n      <div>\n        <h2 className=\"sf-stats-heading\">Emails send per day</h2>\n        <Chart\n          options={{\n            chart: {\n              id: \"sf-email-chart\",\n            },\n            stroke: {\n              curve: \"smooth\",\n            },\n            xaxis: {\n              categories: xLabels,\n            },\n          }}\n          series={[\n            {\n              name: \"emails opened\",\n              data: data ? data.emailsOpenedDaily.map((eod) => eod.count) : [],\n            },\n            {\n              name: \"emails send\",\n              data: data\n                ? data.emailsSendDaily.reduce((all, eod) => {\n                    if (xLabels.includes(getDateString(new Date(eod.date))))\n                      return all.concat(eod.count);\n                    return all;\n                  }, [])\n                : [],\n            },\n          ]}\n          type=\"line\"\n          width={\"100%\"}\n          height={320}\n        />\n      </div>\n      <div>\n        <h2 className=\"sf-stats-heading\">User Signups/Deletions</h2>\n        <Chart\n          options={{\n            chart: {\n              id: \"sf-user-chart\",\n            },\n            xaxis: {\n              categories: data\n                ? data.userSignupsPerMonth.map((us) => us.year + \"-\" + us.month)\n                : [],\n            },\n          }}\n          series={[\n            {\n              name: \"signups\",\n              data: data ? data.userSignupsPerMonth.map((us) => us.count) : [],\n            },\n            {\n              name: \"deletions\",\n              data: data\n                ? data.userSignupsPerMonth.map((us) => {\n                    const month = data.userDeletionsPerMonth.find(\n                      (ud) => us.year === ud.year && us.month === ud.month\n                    );\n                    if (month) {\n                      return month.count;\n                    }\n                    return 0;\n                  })\n                : [],\n            },\n          ]}\n          type=\"line\"\n          width={\"100%\"}\n          height={320}\n        />\n      </div>\n      <div>\n        <h2 className=\"sf-stats-heading\">\n          Amount of users that opened x lunchletters over the last seven days\n        </h2>\n        <Chart\n          options={{\n            chart: {\n              id: \"sf-user-chart\",\n            },\n            xaxis: {\n              categories: [\n                \"4 weeks ago\",\n                \"3 weeks ago\",\n                \"2 weeks ago\",\n                \"1 week ago\",\n                \"This week\",\n              ],\n            },\n          }}\n          series={[1, 2, 3, 4, 5, 6].map((id) => ({\n            data: data.cohortAnalysis.map((cohort) => cohort[id]),\n            name: id,\n          }))}\n          type=\"line\"\n          width={\"100%\"}\n          height={320}\n        />\n      </div>\n      <div>\n        <h2 className=\"sf-stats-heading\">\n          Percentage of users that opened x lunchletters over the last seven\n          days\n        </h2>\n        <Chart\n          options={{\n            chart: {\n              id: \"sf-user-chart\",\n            },\n            xaxis: {\n              categories: [\n                \"4 weeks ago\",\n                \"3 weeks ago\",\n                \"2 weeks ago\",\n                \"1 week ago\",\n                \"This week\",\n              ],\n            },\n          }}\n          series={[1, 2, 3, 4, 5, 6].map((id) => ({\n            data: data.cohortAnalysis.map((cohort) =>\n              cohort.total === 0\n                ? 0\n                : Math.floor((cohort[id] / cohort.total) * 100)\n            ),\n            name: id,\n          }))}\n          type=\"line\"\n          width={\"100%\"}\n          height={320}\n        />\n      </div>\n    </div>\n  );\n}\n","export default function (price) {\n  return price.toFixed(2).replace(\".\", \",\");\n}\n","import useLocalStorage from \"./useLocalStorage\";\n\nexport default function useAuthToken() {\n  return useLocalStorage(\"authToken\");\n}\n","import { useState } from \"react\";\n\nexport default function useLocalStorage(key, initialValue) {\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n\n      const item = window.localStorage.getItem(key);\n\n      // Parse stored json or if none return initialValue\n\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n\n      console.log(error);\n\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n\n  // ... persists the new value to localStorage.\n\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n\n      // Save state\n\n      setStoredValue(valueToStore);\n\n      // Save to local storage\n\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n","import React, { useState } from \"react\";\nimport Login from \"../Login\";\nimport Stats from \"../Stats\";\nimport useAuthToken from \"../../services/hooks/useAuthToken\";\n\nexport default function Home() {\n  const [authToken] = useAuthToken();\n\n  if (!authToken) {\n    return <Login />;\n  }\n\n  return <Stats />;\n}\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Icon } from \"semantic-ui-react\";\nimport useAuthToken from \"../../services/hooks/useAuthToken\";\n\nimport \"./Navbar.css\";\n\nexport default function Navbar({ children }) {\n  const [authToken] = useAuthToken();\n  const [navbarPushedMobile, setNavbarPushedMobile] = useState(false);\n\n  return (\n    <div>\n      <div className=\"sf-admin-topbar\">\n        <div>\n          <h1>Admin Panel</h1>\n        </div>\n        {authToken && (\n          <Icon\n            className=\"sf-admin-sidebar-button\"\n            onClick={() => setNavbarPushedMobile(!navbarPushedMobile)}\n            name=\"sidebar\"\n            size=\"large\"\n          />\n        )}\n      </div>\n      {authToken && (\n        <div\n          className={`sf-admin-sidebar ${\n            navbarPushedMobile ? \"sf-admin-sidebar-opened\" : \"\"\n          }`}\n        >\n          <Link as=\"span\" to=\"/stats\">\n            Stats\n          </Link>\n          <Link as=\"span\" to=\"/cities\">\n            Cities\n          </Link>\n          <Link as=\"span\" to=\"/users\">\n            Users\n          </Link>\n          <Link as=\"span\" to=\"/canteens\">\n            Canteens\n          </Link>\n          <Link as=\"span\" to=\"/mealRecommendations\">\n            Meal Tips\n          </Link>\n        </div>\n      )}\n      <div className=\"sf-admin-content\">{children}</div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Table } from \"semantic-ui-react\";\n\nexport default function TableWrapper({ columnNames = [], content = [] }) {\n  return (\n    <Table celled>\n      <Table.Header>\n        <Table.Row>\n          {columnNames.map((cn) => (\n            <Table.HeaderCell key={cn}>{cn}</Table.HeaderCell>\n          ))}\n        </Table.Row>\n      </Table.Header>\n      <Table.Body>\n        {content.map((row) => (\n          <Table.Row key={row[0]}>\n            {row.map((cell) => (\n              <Table.Cell>{cell}</Table.Cell>\n            ))}\n          </Table.Row>\n        ))}\n      </Table.Body>\n    </Table>\n  );\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nconst url = config.BACKEND_URL + \"/cities\";\n\nexport default async function fetchCities() {\n  try {\n    const response = await getData(url);\n    return response.cities;\n  } catch (e) {\n    return null;\n  }\n}\n","import Axios from \"axios\";\nimport getAdminHeaders from \"../utils/getAdminHeaders\";\n\nexport default async function putData(url, data) {\n  const headers = getAdminHeaders();\n  try {\n    const response = await Axios.put(url, data, { headers });\n    return response.data;\n  } catch (err) {\n    console.log(err);\n  }\n}\n","import config from \"../../config\";\nimport putData from \"./putData\";\n\nexport default function putCity(city) {\n  const url = config.BACKEND_URL + \"/cities/\" + city.id;\n  putData(url, city);\n}\n","import React, { useState } from \"react\";\nimport TableWrapper from \"../../components/TableWrapper/TableWrapper\";\nimport useCities from \"../../services/hooks/useCities\";\nimport { Checkbox, Modal, Icon, Header, Button } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Cities() {\n  const [cities, updateCity] = useCities();\n  const [updateReady, setUpdateReady] = useState();\n\n  return (\n    <div>\n      <TableWrapper\n        columnNames={[\"ID\", \"Name\", \"On Semester Break\", \"Actions\"]}\n        content={cities.map((city) => [\n          city.id,\n          city.city,\n          <Checkbox\n            checked={!!city.is_semester_break}\n            toggle\n            onClick={() => {\n              setUpdateReady({\n                ...city,\n                is_semester_break: !city.is_semester_break,\n              });\n            }}\n          />,\n          <Button\n            as={Link}\n            to={`/cities/${city.id}/meals`}\n            icon=\"food\"\n            primary\n          ></Button>,\n        ])}\n      />\n\n      <Modal open={!!updateReady} onClose={() => setUpdateReady()} basic>\n        <Header icon>\n          <Icon name=\"pencil alternate\" />\n          Update City\n        </Header>\n        <Modal.Content>\n          <p style={{ textAlign: \"center\" }}>\n            Are you sure you want to update{\" \"}\n            {updateReady ? updateReady.city : \"\"}\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button basic color=\"red\" inverted onClick={() => setUpdateReady()}>\n            <Icon name=\"remove\" /> No\n          </Button>\n          <Button\n            color=\"green\"\n            inverted\n            onClick={() => {\n              updateCity(updateReady);\n              setUpdateReady();\n            }}\n          >\n            <Icon name=\"checkmark\" /> Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n    </div>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport fetchCities from \"../backend/fetchCities\";\nimport putCity from \"../backend/putCity\";\n\nexport default function useCities() {\n  const [cities, setCities] = useState([]);\n\n  async function fetchData() {\n    const cities = await fetchCities();\n\n    setCities(cities);\n  }\n\n  async function updateCity(city) {\n    await putCity(city);\n    fetchData();\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return [cities, updateCity];\n}\n","import Axios from \"axios\";\nimport getAdminHeaders from \"../utils/getAdminHeaders\";\n\nexport default async function deleteData(url) {\n  const headers = getAdminHeaders();\n  try {\n    const response = await Axios.delete(url, { headers });\n    return response.data;\n  } catch (err) {\n    console.log(err);\n  }\n}\n","import config from \"../../config\";\nimport deleteData from \"./deleteData\";\n\nexport default function deleteMeal(mealId) {\n  const url = config.BACKEND_URL + \"/meals/\" + mealId;\n  return deleteData(url);\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nexport default async function fetchCities(cityId) {\n  const url = config.BACKEND_URL + \"/cities/\" + cityId + \"/meals\";\n  try {\n    const response = await getData(url);\n    return response.meals;\n  } catch (e) {\n    return null;\n  }\n}\n","import config from \"../../config\";\nimport getData from \"./getData\";\n\nexport default async function sendTestMail(){\n    const url = config.BACKEND_URL + \"/crons/sendTestMail\"\n    await getData(url)\n}","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Button, Header, Icon, Modal } from \"semantic-ui-react\";\nimport sendTestMail from \"../../services/backend/sendTestMail\";\nimport TableWrapper from \"../TableWrapper\";\n\nexport default function MealsListView({ meals, deleteMeal }) {\n  const [mealToBeDeletedId, setMealToBeDeletedId] = useState(null);\n  if (!meals) {\n    return null;\n  }\n\n  return (\n    <div>\n      <Button\n        icon=\"add\"\n        as={Link}\n        to={\"/meals/create\"}\n        positive\n        content=\"add Meal\"\n      />\n      <Button onClick={sendTestMail} content=\"send test mail\" icon=\"send\" />\n      <Modal\n        basic\n        onClose={() => setMealToBeDeletedId(null)}\n        open={mealToBeDeletedId}\n        size=\"small\"\n      >\n        <Header icon>You sure?</Header>\n        <Modal.Content>\n          <p>\n            Your action will delete the meal with the ID {mealToBeDeletedId}.\n            Are you sure want to delete this meal?\n          </p>\n        </Modal.Content>\n        <Modal.Actions>\n          <Button\n            basic\n            color=\"red\"\n            inverted\n            onClick={() => setMealToBeDeletedId(null)}\n          >\n            <Icon name=\"remove\" /> No\n          </Button>\n          <Button\n            color=\"green\"\n            inverted\n            onClick={() => {\n              deleteMeal(mealToBeDeletedId);\n              setMealToBeDeletedId(null);\n            }}\n          >\n            <Icon name=\"checkmark\" /> Yes\n          </Button>\n        </Modal.Actions>\n      </Modal>\n      <TableWrapper\n        columnNames={[\n          \"Id\",\n          \"Canteen\",\n          \"Meal Name\",\n          \"Prices\",\n          \"Types\",\n          \"Date\",\n          \"Action\",\n        ]}\n        content={meals.reduce(\n          (all, canteen) =>\n            all.concat(\n              canteen.meals.map((meal) => [\n                meal.id,\n                canteen.name,\n                meal.name,\n                meal.prices.map((price) => <span>{price.price}/</span>),\n                meal.types.map((type) => (\n                  <img\n                    style={{ height: \"15px\" }}\n                    alt={type.name}\n                    src={type.icon_url}\n                  />\n                )),\n                meal.date,\n                <div>\n                  <Button\n                    as={Link}\n                    to={`/meals/${meal.id}`}\n                    icon=\"edit\"\n                    primary\n                  />\n                  <Button\n                    icon=\"delete\"\n                    color=\"red\"\n                    basic\n                    onClick={() => setMealToBeDeletedId(meal.id)}\n                  />\n                </div>,\n              ])\n            ),\n          []\n        )}\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useParams } from \"react-router\";\nimport useCityMeals from \"../../services/hooks/useCityMeals\";\nimport MealsListView from \"../../components/MealsListView\";\n\nexport default function CityDetail() {\n  const { cityId } = useParams();\n  const [meals, deleteMeal] = useCityMeals(cityId);\n\n  if (!meals) {\n    return null;\n  }\n  return <MealsListView meals={meals} deleteMeal={deleteMeal} />;\n}\n","import { useState, useEffect } from \"react\";\nimport deleteMeal from \"../backend/deleteMeal\";\nimport fetchCityMeals from \"../backend/fetchCityMeals\";\n\nexport default function useCityMeals(cityId) {\n  const [cityMeals, setCityMeals] = useState([]);\n\n  async function fetchData() {\n    const cityMeals = await fetchCityMeals(cityId);\n\n    setCityMeals(cityMeals);\n  }\n\n  async function deleteCityMeal(mealId) {\n    await deleteMeal(mealId);\n    fetchData();\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return [cityMeals, deleteCityMeal];\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nconst url = config.BACKEND_URL + \"/users\";\n\nexport default async function fetchUsers() {\n  try {\n    const response = await getData(url);\n    return response.users;\n  } catch (e) {\n    return null;\n  }\n}\n","import { useState, useEffect } from \"react\";\nimport fetchUsers from \"../backend/fetchUsers\";\n\nexport default function useUsers() {\n  const [users, setUsers] = useState([]);\n\n  async function fetchData() {\n    const users = await fetchUsers();\n\n    setUsers(users);\n  }\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  return [users];\n}\n","import React from \"react\";\nimport TableWrapper from \"../../components/TableWrapper/TableWrapper\";\nimport useUsers from \"../../services/hooks/useUsers\";\n\nexport default function Users() {\n  const [users] = useUsers();\n\n  return (\n    <TableWrapper\n      columnNames={[\"ID\", \"Email\", \"Confirmed\", \"Created On\", \"Deleted On\"]}\n      content={users.reverse().map((user) => [\n        user.id,\n        user.email,\n        \"\" + !!user.confirmed,\n        new Date(Date.parse(user.created_at)).toLocaleDateString(\"de-DE\", {\n          weekday: \"long\",\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\",\n        }),\n        new Date(Date.parse(user.deleted_at)).toLocaleDateString(\"de-DE\", {\n          weekday: \"long\",\n          year: \"numeric\",\n          month: \"long\",\n          day: \"numeric\",\n        }),\n      ])}\n    />\n  );\n}\n","export default function objectToQuery(obj) {\n  const query = Object.keys(obj)\n    .map((key) => key + \"=\" + obj[key])\n    .join(\"&\");\n\n  return query ? \"?\" + query : \"\";\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\nimport objectToQuery from \"../../services/utils/objectToQuery\";\n\nexport default function getCanteens(filter) {\n  const query = objectToQuery(filter);\n  const url = config.BACKEND_URL + \"/canteens\" + query;\n\n  return getData(url);\n}\n","import { useEffect, useState } from \"react\";\nimport getCanteens from \"../backend/getCanteens\";\n\nexport default function useCanteens(filter = {}) {\n  const [canteens, setCanteens] = useState([]);\n\n  useEffect(() => {\n    async function fetch() {\n      const canteens = await getCanteens(filter);\n      setCanteens(canteens);\n    }\n    fetch();\n  }, []);\n\n  return canteens;\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nexport default async function getCanteenCrawlMeals(canteenId) {\n  const url = config.BACKEND_URL + \"/canteens/\" + canteenId + \"/crawlMeals\";\n\n  return await getData(url);\n}\n","import React, { useState } from \"react\";\nimport useCanteens from \"../../services/hooks/useCanteens\";\nimport getCanteenCrawlMeals from \"../../services/backend/getCanteenCrawlMeals\";\nimport TableWrapper from \"../../components/TableWrapper\";\nimport { Button } from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Canteens() {\n  const canteens = useCanteens({ city: \"Mnster\" });\n  const [isCrawlingMeals, setIsCrawlingMeals] = useState(false);\n  if (!canteens) {\n    return null;\n  }\n  return (\n    <div>\n      <Button\n        primary\n        basic\n        as={\"a\"}\n        href=\"https://app.studierendenfutter.de/canteens\"\n        content=\"Active Today\"\n      />\n      <TableWrapper\n        columnNames={[\"ID\", \"Name\", \"Address\", \"City\", \"Type\", \"Actions\"]}\n        content={canteens.reverse().map((canteen) => [\n          canteen.id,\n          canteen.name,\n          canteen.address,\n          canteen.city,\n          canteen.type,\n          <div>\n            <Button\n              as={Link}\n              to={`/canteens/${canteen.id}/meals`}\n              icon=\"food\"\n              primary\n            ></Button>\n            <Button\n              onClick={async () => {\n                setIsCrawlingMeals(true);\n                await getCanteenCrawlMeals();\n                setIsCrawlingMeals(false);\n              }}\n              icon=\"cloud download\"\n              color=\"green\"\n              loading={isCrawlingMeals}\n            ></Button>\n          </div>,\n        ])}\n      />\n    </div>\n  );\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\nimport objectToQuery from \"../utils/objectToQuery\";\n\nexport default function getCanteenMeals(canteenId, filter) {\n  const query = objectToQuery(filter);\n  const url = config.BACKEND_URL + \"/canteens/\" + canteenId + \"/meals\" + query;\n\n  return getData(url);\n}\n","import React from \"react\";\nimport { useParams } from \"react-router\";\nimport MealsListView from \"../../components/MealsListView\";\nimport useCanteenMeals from \"../../services/hooks/useCanteenMeals\";\n\nexport default function CanteenMeals() {\n  const { canteenId } = useParams();\n  const [canteenMeals] = useCanteenMeals(canteenId);\n\n  return <MealsListView meals={canteenMeals} />;\n}\n","import { useEffect, useState } from \"react\";\nimport getCanteenMeals from \"../backend/getCanteenMeals\";\n\nexport default function useCanteenMeals(canteenId, filter = {}) {\n  const [canteenMeals, setCanteenMeals] = useState();\n\n  useEffect(() => {\n    async function fetch() {\n      const canteens = await getCanteenMeals(canteenId, filter);\n      setCanteenMeals(canteens);\n    }\n    fetch();\n  }, []);\n\n  return [canteenMeals];\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Dropdown, Form } from \"semantic-ui-react\";\nimport useCanteens from \"../../services/hooks/useCanteens\";\n\nexport default function MealForm({ meal, setMeal }) {\n  const [localMeal, setLocalMeal] = useState(meal);\n  const canteens = useCanteens();\n\n  useEffect(() => {\n    setLocalMeal(meal);\n  }, [meal]);\n\n  if (!localMeal) {\n    return null;\n  }\n\n  const handleMealUpdate = () => {\n    setMeal(localMeal);\n  };\n\n  const handleFormChange = ({ target: { name, value } }) => {\n    setLocalMeal({ ...meal, [name]: value });\n  };\n\n  return (\n    <Form>\n      <Form.Dropdown\n        placeholder=\"Select Canteen\"\n        fluid\n        search\n        selection\n        value={localMeal.canteen_id}\n        onChange={(_, { value }) =>\n          handleFormChange({ target: { name: \"canteen_id\", value } })\n        }\n        onBlur={handleMealUpdate}\n        label=\"Canteen\"\n        options={canteens.map((canteen) => ({\n          key: canteen.id,\n          value: canteen.id,\n          text: canteen.name,\n        }))}\n      />\n\n      <Form.Input\n        value={localMeal.name}\n        label=\"Name\"\n        name=\"name\"\n        onChange={handleFormChange}\n        onBlur={handleMealUpdate}\n      />\n      <Form.Input\n        value={localMeal.date}\n        label=\"Date\"\n        name=\"date\"\n        onChange={handleFormChange}\n        onBlur={handleMealUpdate}\n      />\n    </Form>\n  );\n}\n","import Axios from \"axios\";\nimport getAdminHeaders from \"../utils/getAdminHeaders\";\n\nexport default async function postData(url, data) {\n  const headers = getAdminHeaders();\n  try {\n    console.log(data);\n    const response = await Axios.post(url, data, { headers });\n    return response.data;\n  } catch (err) {\n    console.log(err);\n    return {};\n  }\n}\n","import postData from \"./postData\";\nimport config from \"../../config\";\n\nconst url = config.BACKEND_URL + \"/meals\";\n\nexport default async function postMeal(data) {\n  try {\n    const response = await postData(url, data);\n    return response.meal;\n  } catch (e) {\n    return null;\n  }\n}\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { Button, Header } from \"semantic-ui-react\";\nimport MealForm from \"../../../components/MealForm/MealForm\";\nimport getDateString from \"../../../services/utils/getDateString\";\nimport postMeal from \"../../../services/backend/postMeal\";\n\nexport default function CreateMeal() {\n  const history = useHistory();\n  const [meal, setMeal] = useState({\n    canteen_id: 0,\n    name: \"\",\n    date: getDateString(),\n  });\n\n  const createMeal = async () => {\n    const _meal = await postMeal(meal);\n    history.push(\"/meals/\" + _meal.id);\n  };\n\n  return (\n    <div>\n      <Header>Create Meal</Header>\n      <MealForm meal={meal} setMeal={setMeal} />\n      <br />\n      <Button icon=\"send\" positive onClick={createMeal}>\n        Create\n      </Button>\n    </div>\n  );\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nconst url = config.BACKEND_URL + \"/userCategories\";\n\nexport default async function getUserCategories() {\n  const response = await getData(url);\n  const userCategories = response;\n  return userCategories;\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Form } from \"semantic-ui-react\";\nimport useUserCategories from \"../../services/hooks/useUserCategories\";\n\nexport default function MealPriceForm({ mealPrice, setMealPrice }) {\n  const [localMealPrice, setLocalMealPrice] = useState(mealPrice);\n  const userCategories = useUserCategories();\n\n  useEffect(() => {\n    setLocalMealPrice(mealPrice);\n  }, [mealPrice]);\n\n  if (!localMealPrice) {\n    return null;\n  }\n\n  const handleMealUpdate = () => {\n    setMealPrice(localMealPrice);\n  };\n\n  const handleFormChange = ({ target: { name, value } }) => {\n    setLocalMealPrice({ ...mealPrice, [name]: value });\n  };\n\n  return (\n    <Form>\n      <Form.Dropdown\n        placeholder=\"Select User Category\"\n        fluid\n        search\n        selection\n        value={localMealPrice.user_category_id}\n        onChange={(_, { value }) =>\n          handleFormChange({ target: { name: \"user_category_id\", value } })\n        }\n        onBlur={handleMealUpdate}\n        label=\"User Group\"\n        options={userCategories.map((user_category) => ({\n          key: user_category.id,\n          value: user_category.id,\n          text: user_category.name,\n        }))}\n      />\n\n      <Form.Input\n        value={localMealPrice.price}\n        label=\"Price\"\n        name=\"price\"\n        onChange={handleFormChange}\n        onBlur={handleMealUpdate}\n        icon=\"euro\"\n      />\n    </Form>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport getUserCategories from \"../backend/getUserCategories\";\n\nexport default function useUserCategories() {\n  const [userCategories, setUserCategories] = useState([]);\n\n  useEffect(() => {\n    async function fetch() {\n      const userCategories = await getUserCategories();\n      setUserCategories(userCategories);\n    }\n    fetch();\n  }, []);\n\n  return userCategories;\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nexport default async function fetchMeal(id) {\n  const url = config.BACKEND_URL + \"/meals/\" + id;\n  try {\n    const response = await getData(url);\n    return response.meal;\n  } catch (e) {\n    return null;\n  }\n}\n","import config from \"../../config\";\nimport putData from \"./putData\";\n\nexport default function putMeal(meal) {\n  const url = config.BACKEND_URL + \"/meals/\" + meal.id;\n  return putData(url, meal);\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nexport default async function fetchMealHasMealTypes(id) {\n  const url = config.BACKEND_URL + \"/meals/\" + id + \"/types\";\n  try {\n    const response = await getData(url);\n    return response.mealHasMealTypes;\n  } catch (e) {\n    return null;\n  }\n}\n","import postData from \"./postData\";\nimport config from \"../../config\";\n\nconst url = config.BACKEND_URL + \"/mealHasMealTypes\";\n\nexport default async function postMealHasMealType(data) {\n  try {\n    console.log(data);\n    const response = await postData(url, data);\n    const { mealMealHasMealType } = response.data;\n    return mealMealHasMealType;\n  } catch (e) {\n    return null;\n  }\n}\n","import config from \"../../config\";\nimport deleteData from \"./deleteData\";\n\nexport default function deleteMealHasMealType(mealHasMealTypeId) {\n  const url = config.BACKEND_URL + \"/mealHasMealTypes/\" + mealHasMealTypeId;\n  return deleteData(url);\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nexport default async function fetchMealPrices(id) {\n  const url = config.BACKEND_URL + \"/meals/\" + id + \"/prices\";\n  try {\n    const response = await getData(url);\n    return response.mealPrices;\n  } catch (e) {\n    return null;\n  }\n}\n","import postData from \"./postData\";\nimport config from \"../../config\";\n\nconst url = config.BACKEND_URL + \"/userCategoryMealPrices\";\n\nexport default async function postPrice(data) {\n  try {\n    const response = await postData(url, data);\n    const { userCategoryMealPrice } = response.data;\n    return userCategoryMealPrice;\n  } catch (e) {\n    return null;\n  }\n}\n","import config from \"../../config\";\nimport deleteData from \"./deleteData\";\n\nexport default function deletePrice(priceId) {\n  const url = config.BACKEND_URL + \"/userCategoryMealPrices/\" + priceId;\n  return deleteData(url);\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nexport default function getCanteens() {\n  const url = config.BACKEND_URL + \"/mealTypes\";\n  return getData(url);\n}\n","import React, { useState } from \"react\";\nimport { useParams } from \"react-router\";\nimport { Button, Dropdown, Header, Segment } from \"semantic-ui-react\";\nimport MealForm from \"../../../components/MealForm\";\nimport MealPriceForm from \"../../../components/MealPriceForm\";\nimport TableWrapper from \"../../../components/TableWrapper\";\nimport useMeal from \"../../../services/hooks/useMeal\";\nimport useMealHasMealTypes from \"../../../services/hooks/useMealHasMealTypes\";\nimport useMealPrices from \"../../../services/hooks/useMealPrices\";\nimport useMealTypes from \"../../../services/hooks/useMealTypes\";\n\nexport default function PatchMeal() {\n  const { mealId } = useParams();\n  const mealPriceTemplate = {\n    price: \"4.00\",\n    meal_id: mealId,\n    user_category_id: 0,\n  };\n\n  const [meal, setMeal] = useMeal(mealId);\n  const [prices, createPrice, deletePrice] = useMealPrices(mealId);\n  const [\n    mealHasMealTypes,\n    createMealHasMealType,\n    deleteMealHasMealType,\n  ] = useMealHasMealTypes(mealId);\n  const [newMealTypeId, setNewMealTypeId] = useState(0);\n  const mealTypes = useMealTypes();\n  const [newMealPrice, setNewMealPrice] = useState(mealPriceTemplate);\n\n  return (\n    <div>\n      <Header>Meal {mealId}</Header>\n      <MealForm meal={meal} setMeal={setMeal} />\n      <br />\n      <div>\n        <Header>Prices </Header>\n        <TableWrapper\n          columnNames={[\"Price\", \"Group\", \"Action\"]}\n          content={prices.map((price) => [\n            price.price,\n            price.name,\n            <Button\n              icon=\"trash\"\n              negative\n              onClick={() => deletePrice(price.id)}\n            />,\n          ])}\n        />\n        <div>\n          <Segment>\n            <Header size=\"small\">Add Price</Header>\n            <MealPriceForm\n              mealPrice={newMealPrice}\n              setMealPrice={setNewMealPrice}\n            />\n            <br />\n            <Button\n              content=\"Add \"\n              positive\n              onClick={() => {\n                createPrice(newMealPrice);\n                setNewMealPrice(mealPriceTemplate);\n              }}\n            />\n          </Segment>\n        </div>\n      </div>\n      <br />\n      <div>\n        <Header>Categories</Header>\n        <TableWrapper\n          columnNames={[\"Name\", \"Image\", \"Action\"]}\n          content={mealHasMealTypes.map((mealHasMealTypes) => [\n            mealHasMealTypes.name,\n            <img\n              alt=\"name\"\n              src={mealHasMealTypes.icon_url}\n              style={{ width: \"16px\" }}\n            />,\n            <Button\n              icon=\"trash\"\n              negative\n              onClick={() => deleteMealHasMealType(mealHasMealTypes.id)}\n            />,\n          ])}\n        />\n        <div>\n          <Segment>\n            <Header size=\"small\">Add Meal Type</Header>\n            <Dropdown\n              placeholder=\"Select Meal Type\"\n              fluid\n              search\n              selection\n              value={newMealTypeId}\n              onChange={(_, { value }) => setNewMealTypeId(value)}\n              label=\"Canteen\"\n              options={mealTypes.map((mealType) => ({\n                key: mealType.id,\n                value: mealType.id,\n                text: mealType.name,\n              }))}\n            />\n            <br />\n            <Button\n              positive\n              content=\"Add\"\n              onClick={() =>\n                createMealHasMealType({\n                  meal_id: mealId,\n                  meal_type_id: newMealTypeId,\n                })\n              }\n            />\n          </Segment>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport fetchMeal from \"../backend/fetchMeal\";\nimport putMeal from \"../backend/putMeal\";\n\nexport default function useMeal(id) {\n  const [meal, setMeal] = useState();\n\n  async function fetchData() {\n    const _meal = await fetchMeal(id);\n    setMeal(_meal);\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  async function updateMeal(meal) {\n    await putMeal(meal);\n    await fetchData();\n  }\n\n  return [meal, updateMeal];\n}\n","import { useEffect, useState } from \"react\";\nimport fetchMealPrices from \"../backend/fetchMealPrices\";\nimport postPrice from \"../backend/postPrice\";\nimport deletePrice from \"../backend/deletePrice\";\n\nexport default function useMealPrices(id) {\n  const [mealPrices, setMealPrices] = useState([]);\n\n  async function fetchData() {\n    const _mealPrices = await fetchMealPrices(id);\n    setMealPrices(_mealPrices);\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  async function createPrice(price) {\n    await postPrice(price);\n    await fetchData();\n  }\n\n  async function removePrice(priceId) {\n    await deletePrice(priceId);\n    await fetchData();\n  }\n\n  return [mealPrices, createPrice, removePrice];\n}\n","import { useEffect, useState } from \"react\";\nimport fetchMealHasMealTypes from \"../backend/fetchMealHasMealTypes\";\nimport postMealHasMealType from \"../backend/postMealHasMealType\";\nimport deleteMealHasMealType from \"../backend/deleteMealHasMealType\";\n\nexport default function useMealHasMealTypes(id) {\n  const [mealHasMealTypes, setMealHasMealTypes] = useState([]);\n\n  async function fetchData() {\n    const _mealHasMealTypes = await fetchMealHasMealTypes(id);\n    setMealHasMealTypes(_mealHasMealTypes);\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  async function createPrice(price) {\n    await postMealHasMealType(price);\n    await fetchData();\n  }\n\n  async function removePrice(priceId) {\n    await deleteMealHasMealType(priceId);\n    await fetchData();\n  }\n\n  return [mealHasMealTypes, createPrice, removePrice];\n}\n","import { useEffect, useState } from \"react\";\nimport getMealTypes from \"../backend/getMealTypes\";\n\nexport default function useMealTypes() {\n  const [mealTypes, setMealTypes] = useState([]);\n\n  useEffect(() => {\n    async function fetch() {\n      const mealTypes = await getMealTypes();\n      setMealTypes(mealTypes);\n    }\n    fetch();\n  }, []);\n\n  return mealTypes;\n}\n","import React from \"react\";\nimport { Checkbox, Input, TextArea } from \"semantic-ui-react\";\nimport TableWrapper from \"../../components/TableWrapper\";\nimport useMealRecommendations from \"../../services/hooks/useMealRecommendations\";\n\nexport default function MealRecommendations() {\n  const [mealRecommendations, updateMealRecommendation] =\n    useMealRecommendations();\n\n  return (\n    <TableWrapper\n      columnNames={[\"Id\", \"Message\", \"City\", \"Active\"]}\n      content={mealRecommendations.map((recommendation) => [\n        recommendation.id,\n        recommendation.message,\n        recommendation.city_name,\n        <Checkbox\n          toggle\n          checked={recommendation.active === 1}\n          onChange={() =>\n            updateMealRecommendation({\n              ...recommendation,\n              active: recommendation.active === 0,\n            })\n          }\n        />,\n      ])}\n    />\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport getMealRecommendations from \"../backend/getMealRecommendations\";\nimport putMealRecommendation from \"../backend/putMealRecommendation\";\n\nexport default function useMealRecommendations() {\n  const [mealRecommendations, setMealRecommendations] = useState([]);\n\n  const fetch = async () => {\n    const mr = await getMealRecommendations();\n    setMealRecommendations(mr.mealRecommendations);\n  };\n\n  useEffect(() => {\n    fetch();\n  }, []);\n\n  async function updateMealRecommendation(updatedRecommendation) {\n    fetch();\n    return;\n  }\n\n  return [mealRecommendations, updateMealRecommendation];\n}\n","import getData from \"./getData\";\nimport config from \"../../config\";\n\nexport default function getMealRecommendations() {\n  const url = config.BACKEND_URL + \"/mealRecommendations\";\n  return getData(url);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Home from \"./pages/Home/Home\";\nimport Navbar from \"./components/Navbar\";\nimport Cities from \"./pages/Cities\";\nimport CityMeals from \"./pages/CityMeals\";\n\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./index.css\";\nimport Stats from \"./pages/Stats\";\nimport Users from \"./pages/Users/Users\";\nimport Canteens from \"./pages/Canteens\";\nimport CanteenMeals from \"./pages/CanteenMeals\";\nimport CreateMeal from \"./pages/Meal/Create/CreateMeal\";\nimport PatchMeal from \"./pages/Meal/Patch/PatchMeal\";\nimport MealRecommendations from \"./pages/MealRecommendations\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Navbar>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/stats\">\n            <Stats />\n          </Route>\n          <Route exact path=\"/canteens\">\n            <Canteens />\n          </Route>\n          <Route exact path=\"/canteens/:canteenId/meals\">\n            <CanteenMeals />\n          </Route>\n          <Route exact path=\"/cities\">\n            <Cities />\n          </Route>\n          <Route exact path=\"/cities/:cityId/meals\">\n            <CityMeals />\n          </Route>\n          <Route exact path=\"/meals/create\">\n            <CreateMeal />\n          </Route>\n          <Route exact path=\"/meals/:mealId\">\n            <PatchMeal />\n          </Route>\n          <Route exact path=\"/mealRecommendations\">\n            <MealRecommendations />\n          </Route>\n          <Route exact path=\"/users\">\n            <Users />\n          </Route>\n        </Switch>\n      </Navbar>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}